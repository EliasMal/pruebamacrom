<div ng-controller="catalogosCtrl" ng-init="refaccion.categoria='{categoria}'">
	<!-- Title Page -->
	<header class="header">
		<section class="header__contenido" ng-repeat="cat in catalogos.Escritorio">
			<img src="images/Banners/{{cat.imagen}}" alt="Banner Catalogos">
		</section>

		<section class="header__contenido contenido--responsive" ng-repeat="cat in catalogos.Movil">
			<img src="images/Banners/{{cat.imagen}}" alt="Banner Catalogos">
		</section>

		<div class="header__texto">
			<h2 class="no-margin">Cat&aacute;logos</h2>
		</div>
	</header>
	<!-- Content page -->
	<section class="bgblack p-t-55 p-b-65">
		<div class="container-fluid">
			<div class="row">
				<div class="col-sm-6 col-md-4 col-lg-3 p-b-50">
					<div class="leftbar p-r-20 p-r-0-sm">

						<h4 class="m-text14 p-b-32 text-white">
							Filtrar
						</h4>
						<div class="filter-price p-t-22 p-b-50 bo3">
							<label for="txtMarca" class="text-white">Armadora:</label>
							<select name="txtMarca" id="txtMarca" class="form-control" ng-model="refaccion.marca"
								ng-change="getVehiculos(true)">
								<optgroup label="Selecciona la Marca">
									<option value="T">-- Todas --</option>
									<option ng-repeat="marca in Marcas" value="{{marca._id}}">{{marca.Marca}}</option>
								</optgroup>
							</select>
							<label for="txtVehiculo" class="text-white">Vehiculo</label>
							<select name="txtVehiculo" id="txtVehiculo" class="form-control"
								ng-model="refaccion.vehiculo" ng-change="getModelos()">
								<optgroup label="Selecciona el Vehiculo">
									<option value="">-- Todas --</option>
									<option ng-repeat="vehiculo in Vehiculos" value="{{vehiculo._id}}">{{vehiculo.Modelo}}</option>
								</optgroup>
							</select>
							<label for="txtModelo" class="text-white">Modelo</label>
							<select name="txtModelo" id="txtModelo" class="form-control" ng-model="refaccion.anio"
								ng-change="getAnios()">
								<optgroup label="Selecciona el Modelo">
									<option value="">-- Todas --</option>
									<option ng-repeat="modelo in Modelos" value="{{modelo._id}}">{{modelo.Anio}}
									</option>
								</optgroup>
							</select>
							<label for="txtCategoria" class="text-white">Categorias:</label>
							<select name="txtCategoria" id="txtCategoria" class="form-control"
								ng-model="refaccion.categoria" ng-change="getCategorias(true)">
								<optgroup label="Selecciona una categoria">
									<option value="T">--Todas--</option>
									<option ng-repeat="cat in categorias" value="{{cat._id}}">{{cat.Categoria}}</option>
								</optgroup>
							</select>
						</div>
						<div class="search-product pos-relative bo4 of-hidden">
							<input class="s-text7 size6 p-l-23 p-r-50" type="text" name="search-product"
								placeholder="Buscar Producto..." ng-model="refaccion.producto"
								ng-model-options="{debounce:500}" ng-change="getRefaccion()">

							<!--<input type="radio" ng-model="refaccion.producto"
								ng-model-options="{debounce:500}" ng-change="getRefaccion()" value="{{marca._id}}">Volante-->

							<button class="flex-c-m size5 ab-r-m color2 color0-hov trans-0-4">
								<i class="fs-12 fa fa-search" aria-hidden="true"></i>
							</button>
						</div>
					</div>
				</div>

				<div class="col-sm-6 col-md-8 col-lg-9 p-b-50">
					<!--  -->
					<div class="flex-sb-m flex-w p-b-35">
						<div class="flex-w">

						</div>

						<span class="s-text8 p-t-5 p-b-5 text-white">
							Refacciones Encontradas: {{Trefacciones}} resultados
						</span>
					</div>
					<!-- Pagination -->
					<div class="pagination p-b-26">
						<a href="#{{pag.no}}" class="item-pagination flex-c-m trans-0-4 {{currentPage == (pag.no - 1)? 'active-pagination':''}}"
							ng-repeat='pag in pages' ng-click='setPage(pag.no)'>{{pag.no}}</a>

					</div>
					
					<!-- Product -->
					<div class="row">
						<div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 p-b-50 enlace halfwi"
							ng-repeat="producto in Refacciones">
							<!-- Block2 -->
							<div class="block2 " ng-click="RefaccionDetalles(producto._id)">
								<div class="block2-img wrap-pic-w of-hidden
									{{producto.RefaccionOferta==1? 'block2-labelsale':''}}"
									ng-class="{
											'ribboagotado': producto.agotado ,
											'ribbonnuevo': producto.RefaccionNueva==1,
											'ribbonoferta': producto.RefaccionOferta,
											'pos-relative': !producto.agotado || producto.RefaccionNueva==0

										}"
									ng-style="{'background-color': producto.color}">
									<img ng-src="{{producto.imagen? 'images/refacciones/'+producto._id+'.png':'images/refacciones/motor.png'}}"
										alt="{{producto.tag_alt}}" title = "{{producto.tag_title}}">

								</div>
								
								<div class="block2-txt p-t-20">
									<section class="descripcion-producto">
										<img ng-src="{{producto.imagenproveedor? 'images/Marcasrefacciones/' + producto.id_proveedor + '.png':'images/Marcasrefacciones/boxed-bg.jpg'}}" 
										alt="{{producto.tag_altproveedor}}" title="{{producto.tag_titleproveedor}}">
										<p class="block2-name dis-block s-text3 p-b-5 text-white">
											{{producto.Producto}}
											
										</p>
										
									</section>
									

									<span class="block2-price m-text6 p-r-5 p-t-5 text-white text-center">
										<h3 class="precio">{{producto.RefaccionOferta? producto.Precio2:producto.Precio1 | currency}}</h3>
									</span>
									<div class="enviogratis" ng-show="producto.Enviogratis">
										<img src="/images/icons/Icono-camion.png" alt="" >
										<p class="text-white"> <strong>Env√≠o Gratis </strong> </p> 
									</div>
								</div>
							</div>
						</div>


					</div>
					<script type="text/javascript">function toTop() {window.scrollTo(0, 0)} </script>
					<!-- Pagination -->
					<div class="pagination p-t-26">
						<a onClick="toTop()" class="item-pagination flex-c-m trans-0-4 {{currentPage == (pag.no - 1)? 'active-pagination':''}}"
							ng-repeat='pag in pages' ng-click='setPage(pag.no)'>{{pag.no}}</a>

					</div>
				</div>
			</div>
		</div>
	</section>

</div>

<script>
	window.fbAsyncInit = function() {
	  FB.init({
		xfbml            : true,
		version          : 'v3.3'
	  });
	};
  
	(function(d, s, id) {
	var js, fjs = d.getElementsByTagName(s)[0];
	if (d.getElementById(id)) return;
	js = d.createElement(s); js.id = id;
	js.src = 'https://connect.facebook.net/es_LA/sdk/xfbml.customerchat.js';
	fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>
  
  
  <!-- Facebook Pixel Code -->
  <script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '342958480063107');
  fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=342958480063107&ev=PageView&noscript=1"
  /></noscript>
  <!-- End Facebook Pixel Code -->