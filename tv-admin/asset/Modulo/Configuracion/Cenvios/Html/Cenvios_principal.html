<section ng-controller="CenviosCtrl">
    <div class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1 class="m-0 text-dark">Costos de Envios</h1>
                </div><!-- /.col -->
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="#">Home</a></li>
                        <li class="breadcrumb-item ">Configurarcion</li>
                        <li class="breadcrumb-item active">Codigos Postales</li>
                    </ol>
                </div><!-- /.col -->
            </div><!-- /.row -->
        </div><!-- /.container-fluid -->
    </div>
    <section class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-xs-12 col-xl-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="callout callout-info">
                        <h5>Informacion</h5>
                        <p>Este modulo permite ingresar el costo de envio de paqueteria a distintas partes de m√©xico
                        </p>
                    </div>
                </div>
                <div class="col-xs-12 col-xl-12 col-sm-12 col-md-12 col-lg-12">
                    <button class="btn btn-danger float-right" ng-click='btnNuevoEnvio()'>Nuevo Costo</button>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-xs-12 col-xl-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="table-responsive">
                        
                        <table class="table table-bordered table-striped">
                            <thead>
                                <th>#</th>
                                <th>Municipio</th>
                                <th>Estado</th>
                                <th>Costo</th>
                                <th>Acciones</th>
                            </thead>
                            <tbody>
                                <tr ng-repeat="costo in envios">
                                    <td>{{$index+1}}</td>
                                    <td>{{costo.Municipio}}</td>
                                    <td>{{costo.Estado}}</td>
                                    <td>{{costo.precio | currency}}</td>
                                    <td>
                                        <button type ="button" class="btn btn-danger" ng-click="btnDesactivar(costo.id)">
                                            <i class="fa fa-close"></i>
                                        </button>
                                        <button type= "button" class="btn btn-primary" ng-click="btnEditar(costo)">
                                             <i class="fa fa-edit"></i>
                                        </button>
                                    </td>
                                </tr>
                                
                            </tbody>
                            
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Modal -->
    <div class="modal fade" id="Cenvios" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Crear nuevo costo de envio</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12  col-xl-12 col-sm-6 col-md-6 col-lg-6">
                        <label for="">Estado:</label>
                        <select name="estados" id="estados" class="form-control" ng-model="send.Estado" ng-change="getMunicipios()" ng-show="!editar">
                            <optgroup label="Selecciona el estado de la republica">
                                <option ng-repeat="Edo in estados" value="{{Edo.Estado}}">{{Edo.Estado}}</option>
                            </optgroup>
                        </select>
                        <span class="form-control" ng-show="editar">{{send.Estado}}</span>
                    </div>
                    <div class="col-xs-12  col-xl-12 col-sm-6 col-md-6 col-lg-6">
                        <label for="">Municipio:</label>
                        <select name="" id="" class="form-control" ng-model="send.Municipio" ng-show = "!editar">
                            <optgroup label="Selecciona el municipio del estado">
                                <option ng-repeat="muni in municipios" value="{{muni.Municipio}}">{{muni.Municipio}}</option>
                            </optgroup>
                        </select>
                        <span class="form-control" ng-show="editar">{{send.Municipio}}</span>
                    </div>
                    <div class="col-xs-12  col-xl-12 col-sm-6 col-md-6 col-lg-6">
                        <label for="">Costo de Envio:</label>
                        <input type="text" class="form-control" ng-model='send.Precio'>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-danger" ng-click="btnCrearEnvio()">Crear</button>
            </div>
            </div>
        </div>
    </div>
</section>